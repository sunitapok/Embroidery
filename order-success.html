<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Order Confirmed - Hand Embroidery by Sana</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://use.typekit.net/yjp3aho.css">
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'sofia': ['sofia-pro', 'sans-serif'],
          },
          colors: {
            'rose-gold': '#E8B4A0',
            'deep-rose': '#D4847C',
            'sage': '#A8B5A0',
            'warm-beige': '#F5F1EB',
          }
        }
      }
    }
  </script>
</head>
<body class="font-sofia bg-warm-beige">
  <!-- Navigation -->
  <div id="navbar-container" data-source="components/navbar.html"></div>

  <!-- Success Content -->
  <main class="pt-24 pb-16 min-h-screen" data-id="success-main">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Success Message -->
      <div class="text-center mb-12" data-id="success-message">
        <div class="w-24 h-24 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6">
          <i data-lucide="check" class="w-12 h-12 text-white"></i>
        </div>
        <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4" data-id="success-title">Order Confirmed!</h1>
        <p class="text-xl text-gray-600 mb-2" data-id="success-subtitle">Thank you for your purchase</p>
        <p class="text-lg text-gray-500" data-id="order-id">Order ID: <span id="orderIdDisplay" class="font-mono font-semibold text-deep-rose"></span></p>
      </div>

      <!-- Order Details -->
      <div class="bg-white rounded-2xl shadow-lg p-8 mb-8" data-id="order-details">
        <h2 class="text-2xl font-bold text-gray-800 mb-6" data-id="order-details-title">Order Details</h2>
        
        <div id="order-info" data-id="order-info">
          <!-- Order details will be loaded here -->
        </div>
      </div>

      <!-- What's Next -->
      <div class="grid md:grid-cols-2 gap-8 mb-8" data-id="whats-next-section">
        <div class="bg-white rounded-2xl shadow-lg p-6" data-id="next-steps">
          <h3 class="text-xl font-bold text-gray-800 mb-4" data-id="next-steps-title">What's Next?</h3>
          
          <div class="space-y-4">
            <div class="flex items-start gap-3" data-id="step-1">
              <div class="w-8 h-8 bg-rose-gold text-white rounded-full flex items-center justify-center text-sm font-semibold">1</div>
              <div>
                <h4 class="font-medium text-gray-800">Order Confirmation</h4>
                <p class="text-gray-600 text-sm">You'll receive an email confirmation shortly with your order details.</p>
              </div>
            </div>
            
            <div class="flex items-start gap-3" data-id="step-2">
              <div class="w-8 h-8 bg-rose-gold text-white rounded-full flex items-center justify-center text-sm font-semibold">2</div>
              <div>
                <h4 class="font-medium text-gray-800">Processing</h4>
                <p class="text-gray-600 text-sm">We'll start preparing your order. Handmade items take 3-5 business days.</p>
              </div>
            </div>
            
            <div class="flex items-start gap-3" data-id="step-3">
              <div class="w-8 h-8 bg-rose-gold text-white rounded-full flex items-center justify-center text-sm font-semibold">3</div>
              <div>
                <h4 class="font-medium text-gray-800">Shipping</h4>
                <p class="text-gray-600 text-sm">Your order will be carefully packaged and shipped with tracking information.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-2xl shadow-lg p-6" data-id="support-info">
          <h3 class="text-xl font-bold text-gray-800 mb-4" data-id="support-title">Need Help?</h3>
          
          <div class="space-y-4">
            <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg" data-id="email-support">
              <i data-lucide="mail" class="w-5 h-5 text-deep-rose"></i>
              <div>
                <h4 class="font-medium text-gray-800">Email Support</h4>
                <p class="text-gray-600 text-sm">hello@embroideryart.com</p>
              </div>
            </div>
            
            <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg" data-id="phone-support">
              <i data-lucide="phone" class="w-5 h-5 text-deep-rose"></i>
              <div>
                <h4 class="font-medium text-gray-800">Phone Support</h4>
                <p class="text-gray-600 text-sm">+91 98765 43210</p>
              </div>
            </div>
            
            <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg" data-id="whatsapp-support">
              <i data-lucide="message-circle" class="w-5 h-5 text-deep-rose"></i>
              <div>
                <h4 class="font-medium text-gray-800">WhatsApp</h4>
                <p class="text-gray-600 text-sm">Quick updates & support</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="flex flex-wrap gap-4 justify-center" data-id="action-buttons">
        <a href="shop.html" 
           class="bg-gradient-to-r from-rose-gold to-deep-rose text-white py-3 px-8 rounded-lg font-semibold hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300" data-id="continue-shopping-btn">
          <span class="flex items-center gap-2">
            <i data-lucide="shopping-bag" class="w-5 h-5"></i>
            Continue Shopping
          </span>
        </a>
        
        <a href="gallery.html" 
           class="bg-white border-2 border-deep-rose text-deep-rose py-3 px-8 rounded-lg font-semibold hover:bg-deep-rose hover:text-white transition-all duration-300" data-id="view-gallery-btn">
          <span class="flex items-center gap-2">
            <i data-lucide="image" class="w-5 h-5"></i>
            View Gallery
          </span>
        </a>
      </div>

      <!-- Social Sharing -->
      <div class="text-center mt-12" data-id="social-sharing">
        <h3 class="text-lg font-semibold text-gray-800 mb-4" data-id="share-title">Share Your Purchase</h3>
        <p class="text-gray-600 mb-6" data-id="share-subtitle">Show off your beautiful handmade items!</p>
        
        <div class="flex justify-center gap-4">
          <button class="w-12 h-12 bg-gradient-to-br from-pink-500 to-rose-500 text-white rounded-full flex items-center justify-center hover:shadow-lg transform hover:-translate-y-1 transition-all" data-id="share-instagram">
            <i data-lucide="instagram" class="w-6 h-6"></i>
          </button>
          <button class="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-full flex items-center justify-center hover:shadow-lg transform hover:-translate-y-1 transition-all" data-id="share-facebook">
            <i data-lucide="facebook" class="w-6 h-6"></i>
          </button>
          <button class="w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 text-white rounded-full flex items-center justify-center hover:shadow-lg transform hover:-translate-y-1 transition-all" data-id="share-whatsapp">
            <i data-lucide="message-circle" class="w-6 h-6"></i>
          </button>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <div id="footer-container" data-source="components/footer.html"></div>

  <script type="module">
    import { loadComponent } from './scripts/components/loader.js';
    
    // Load shared components
    await loadComponent('#navbar-container');
    await loadComponent('#footer-container');
    
    // Initialize icons
    lucide.createIcons();

    // Get order ID from URL
    const urlParams = new URLSearchParams(window.location.search);
    const orderId = urlParams.get('orderId');
    
    if (orderId) {
      document.getElementById('orderIdDisplay').textContent = orderId;
      
      // Load order details from localStorage
      const orders = JSON.parse(localStorage.getItem('orders') || '[]');
      const order = orders.find(o => o.id === orderId);
      
      if (order) {
        displayOrderDetails(order);
      }
    } else {
      // Redirect to home if no order ID
      window.location.href = 'index.html';
    }

    function displayOrderDetails(order) {
      const orderInfo = document.getElementById('order-info');
      
      orderInfo.innerHTML = `
        <div class="grid md:grid-cols-2 gap-8">
          <!-- Customer & Shipping Info -->
          <div>
            <h4 class="font-semibold text-gray-800 mb-3">Shipping Information</h4>
            <div class="text-gray-600 space-y-1">
              <p>${order.customer.firstName} ${order.customer.lastName}</p>
              <p>${order.shipping.address}</p>
              <p>${order.shipping.city}, ${order.shipping.state} ${order.shipping.pincode}</p>
              <p>${order.shipping.country}</p>
            </div>
            
            <h4 class="font-semibold text-gray-800 mt-6 mb-3">Contact Information</h4>
            <div class="text-gray-600 space-y-1">
              <p>${order.customer.email}</p>
              <p>${order.customer.phone}</p>
            </div>
          </div>

          <!-- Order Items -->
          <div>
            <h4 class="font-semibold text-gray-800 mb-3">Items Ordered</h4>
            <div class="space-y-3">
              ${order.items.map(item => `
                <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                  <img src="${item.image}" alt="${item.name}" class="w-12 h-12 object-cover rounded-lg">
                  <div class="flex-1">
                    <h5 class="font-medium text-sm">${item.name}</h5>
                    <p class="text-gray-600 text-sm">₹${item.price} × ${item.quantity}</p>
                  </div>
                  <span class="font-medium">₹${item.price * item.quantity}</span>
                </div>
              `).join('')}
            </div>
            
            <div class="mt-6 space-y-2 text-sm">
              <div class="flex justify-between">
                <span class="text-gray-600">Subtotal</span>
                <span>₹${order.totals.subtotal}</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-600">Shipping</span>
                <span>${order.totals.shipping === 0 ? 'Free' : '₹' + order.totals.shipping}</span>
              </div>
              ${order.totals.discount > 0 ? `
                <div class="flex justify-between text-green-600">
                  <span>Discount</span>
                  <span>-₹${order.totals.discount}</span>
                </div>
              ` : ''}
              <hr>
              <div class="flex justify-between font-semibold text-lg">
                <span>Total</span>
                <span>₹${order.totals.total}</span>
              </div>
            </div>
          </div>
        </div>

        ${order.instructions ? `
          <div class="mt-6 p-4 bg-gray-50 rounded-lg">
            <h4 class="font-semibold text-gray-800 mb-2">Special Instructions</h4>
            <p class="text-gray-600">${order.instructions}</p>
          </div>
        ` : ''}
      `;
    }

    // Social sharing functionality
    document.getElementById('share-instagram').addEventListener('click', () => {
      // In a real app, this would open Instagram sharing
      alert('Share on Instagram: Take a photo and tag @embroidery_art!');
    });

    document.getElementById('share-facebook').addEventListener('click', () => {
      const url = encodeURIComponent(window.location.href);
      const text = encodeURIComponent('Just ordered beautiful handmade embroidery from Hand Embroidery by Sana!');
      window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}"e=${text}`, '_blank');
    });

    document.getElementById('share-whatsapp').addEventListener('click', () => {
      const text = encodeURIComponent('Just ordered beautiful handmade embroidery! Check out Hand Embroidery by Sana: ' + window.location.origin);
      window.open(`https://wa.me/?text=${text}`, '_blank');
    });
  </script>
</body>
</html>