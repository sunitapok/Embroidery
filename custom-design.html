<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Custom Design Request - Hand Embroidery by Sana</title>
  <meta name="description" content="Request custom hand embroidery designs. Personalized pieces for special occasions, gifts, and celebrations.">
  
  <link rel="stylesheet" href="https://use.typekit.net/yjp3aho.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'sofia': ['sofia-pro', 'sans-serif']
          },
          colors: {
            'rose-gold': '#E8B4B8',
            'deep-rose': '#C4565A',
            'warm-beige': '#F5F1EB',
            'sage': '#9CAF88'
          }
        }
      }
    }
  </script>
</head>
<body class="font-sofia bg-warm-beige">
  <div id="navbar-container" data-source="components/navbar.html"></div>

  <!-- Hero Section -->
  <section class="py-12 lg:py-20 bg-gradient-to-br from-rose-gold/20 to-sage/20" data-id="custom-hero">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center" data-id="custom-hero-content">
        <h1 class="text-4xl lg:text-6xl font-light text-gray-800 mb-6" data-id="custom-hero-title">
          Custom <span class="text-deep-rose">Design Request</span>
        </h1>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto" data-id="custom-hero-subtitle">
          Let's create something uniquely yours. Share your vision and I'll bring it to life through intricate hand embroidery
        </p>
      </div>
    </div>
  </section>

  <!-- Process Overview -->
  <section class="py-16 bg-white" data-id="process-overview">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12" data-id="process-header">
        <h2 class="text-3xl lg:text-4xl font-light text-gray-800 mb-4" data-id="process-title">
          How Custom Orders Work
        </h2>
        <p class="text-gray-600 max-w-2xl mx-auto" data-id="process-subtitle">
          From initial consultation to final delivery, here's what to expect
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-4 gap-8" data-id="process-steps">
        <div class="text-center" data-id="step-1">
          <div class="w-16 h-16 bg-rose-gold/20 rounded-full flex items-center justify-center mx-auto mb-4" data-id="step-icon-1">
            <i data-lucide="message-square" class="w-8 h-8 text-deep-rose"></i>
          </div>
          <h3 class="text-lg font-medium text-gray-800 mb-2" data-id="step-title-1">1. Consultation</h3>
          <p class="text-sm text-gray-600" data-id="step-desc-1">
            Share your vision, preferences, and requirements through our detailed form
          </p>
        </div>

        <div class="text-center" data-id="step-2">
          <div class="w-16 h-16 bg-sage/20 rounded-full flex items-center justify-center mx-auto mb-4" data-id="step-icon-2">
            <i data-lucide="palette" class="w-8 h-8 text-sage"></i>
          </div>
          <h3 class="text-lg font-medium text-gray-800 mb-2" data-id="step-title-2">2. Design Concept</h3>
          <p class="text-sm text-gray-600" data-id="step-desc-2">
            I'll create initial sketches and color schemes for your approval
          </p>
        </div>

        <div class="text-center" data-id="step-3">
          <div class="w-16 h-16 bg-rose-gold/20 rounded-full flex items-center justify-center mx-auto mb-4" data-id="step-icon-3">
            <i data-lucide="scissors" class="w-8 h-8 text-deep-rose"></i>
          </div>
          <h3 class="text-lg font-medium text-gray-800 mb-2" data-id="step-title-3">3. Crafting</h3>
          <p class="text-sm text-gray-600" data-id="step-desc-3">
            Your piece is carefully handcrafted with attention to every detail
          </p>
        </div>

        <div class="text-center" data-id="step-4">
          <div class="w-16 h-16 bg-sage/20 rounded-full flex items-center justify-center mx-auto mb-4" data-id="step-icon-4">
            <i data-lucide="package" class="w-8 h-8 text-sage"></i>
          </div>
          <h3 class="text-lg font-medium text-gray-800 mb-2" data-id="step-title-4">4. Delivery</h3>
          <p class="text-sm text-gray-600" data-id="step-desc-4">
            Your completed piece is carefully packaged and delivered to you
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Custom Design Form -->
  <section class="py-16 bg-gray-50" data-id="custom-form-section">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="bg-white rounded-2xl shadow-lg p-8 lg:p-12" data-id="form-container">
        <div class="text-center mb-8" data-id="form-header">
          <h2 class="text-3xl font-light text-gray-800 mb-4" data-id="form-title">
            Tell Me About Your Vision
          </h2>
          <p class="text-gray-600" data-id="form-subtitle">
            The more details you provide, the better I can bring your idea to life
          </p>
        </div>

        <form id="custom-design-form" class="space-y-8" data-id="custom-form">
          <!-- Personal Information -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6" data-id="personal-info">
            <div data-id="name-field">
              <label for="name" class="block text-sm font-medium text-gray-700 mb-2">Full Name *</label>
              <input type="text" 
                     id="name" 
                     name="name" 
                     required
                     class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-deep-rose focus:border-transparent"
                     placeholder="Enter your full name">
            </div>
            
            <div data-id="email-field">
              <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address *</label>
              <input type="email" 
                     id="email" 
                     name="email" 
                     required
                     class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-deep-rose focus:border-transparent"
                     placeholder="your@email.com">
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6" data-id="contact-info">
            <div data-id="phone-field">
              <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
              <input type="tel" 
                     id="phone" 
                     name="phone"
                     class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-deep-rose focus:border-transparent"
                     placeholder="+91 98765 43210">
            </div>
            
            <div data-id="occasion-field">
              <label for="occasion" class="block text-sm font-medium text-gray-700 mb-2">Occasion Type *</label>
              <select id="occasion" 
                      name="occasion" 
                      required
                      class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-deep-rose focus:border-transparent">
                <option value="">Select occasion</option>
                <option value="bridal">Bridal</option>
                <option value="festive">Festive Celebration</option>
                <option value="gift">Gift</option>
                <option value="personal">Personal Use</option>
                <option value="corporate">Corporate/Business</option>
                <option value="other">Other</option>
              </select>
            </div>
          </div>

          <!-- Project Details -->
          <div data-id="project-details">
            <h3 class="text-xl font-medium text-gray-800 mb-4" data-id="project-details-title">Project Details</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6" data-id="project-info">
              <div data-id="item-type-field">
                <label for="item-type" class="block text-sm font-medium text-gray-700 mb-2">What would you like made? *</label>
                <select id="item-type" 
                        name="item-type" 
                        required
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-deep-rose focus:border-transparent">
                  <option value="">Select item type</option>
                  <option value="earrings">Earrings</option>
                  <option value="necklace">Necklace</option>
                  <option value="bracelet">Bracelet</option>
                  <option value="hoop-art">Embroidery Hoop Art</option>
                  <option value="wall-art">Wall Art</option>
                  <option value="cushion">Cushion Cover</option>
                  <option value="table-runner">Table Runner</option>
                  <option value="clothing">Clothing Embroidery</option>
                  <option value="other">Other (please specify)</option>
                </select>
              </div>
              
              <div data-id="timeline-field">
                <label for="timeline" class="block text-sm font-medium text-gray-700 mb-2">When do you need it by?</label>
                <input type="date" 
                       id="timeline" 
                       name="timeline"
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-deep-rose focus:border-transparent">
              </div>
            </div>

            <div class="mb-6" data-id="budget-field">
              <label for="budget" class="block text-sm font-medium text-gray-700 mb-2">Budget Range</label>
              <select id="budget" 
                      name="budget"
                      class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-deep-rose focus:border-transparent">
                <option value="">Select budget range</option>
                <option value="500-1000">₹500 - ₹1,000</option>
                <option value="1000-2000">₹1,000 - ₹2,000</option>
                <option value="2000-5000">₹2,000 - ₹5,000</option>
                <option value="5000-10000">₹5,000 - ₹10,000</option>
                <option value="10000+">₹10,000+</option>
                <option value="flexible">Flexible</option>
              </select>
            </div>
          </div>

          <!-- Design Preferences -->
          <div data-id="design-preferences">
            <h3 class="text-xl font-medium text-gray-800 mb-4" data-id="design-prefs-title">Design Preferences</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6" data-id="design-info">
              <div data-id="colors-field">
                <label for="colors" class="block text-sm font-medium text-gray-700 mb-2">Preferred Colors</label>
                <input type="text" 
                       id="colors" 
                       name="colors"
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-deep-rose focus:border-transparent"
                       placeholder="e.g., Rose gold, deep red, sage green">
              </div>
              
              <div data-id="style-field">
                <label for="style" class="block text-sm font-medium text-gray-700 mb-2">Style Preference</label>
                <select id="style" 
                        name="style"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-deep-rose focus:border-transparent">
                  <option value="">Select style</option>
                  <option value="traditional">Traditional/Classic</option>
                  <option value="modern">Modern/Contemporary</option>
                  <option value="boho">Bohemian</option>
                  <option value="minimalist">Minimalist</option>
                  <option value="ornate">Ornate/Detailed</option>
                  <option value="mixed">Mixed Styles</option>
                </select>
              </div>
            </div>

            <div class="mb-6" data-id="design-notes-field">
              <label for="design-notes" class="block text-sm font-medium text-gray-700 mb-2">Design Notes & Inspiration *</label>
              <textarea id="design-notes" 
                        name="design-notes" 
                        rows="4"
                        required
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-deep-rose focus:border-transparent"
                        placeholder="Describe your vision in detail. What patterns, themes, or elements would you like to include? Any specific requirements or preferences?"></textarea>
            </div>

            <div class="mb-6" data-id="special-elements-field">
              <label for="special-elements" class="block text-sm font-medium text-gray-700 mb-2">Special Elements</label>
              <textarea id="special-elements" 
                        name="special-elements" 
                        rows="3"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-deep-rose focus:border-transparent"
                        placeholder="Any names, dates, symbols, or meaningful elements to incorporate?"></textarea>
            </div>
          </div>

          <!-- File Upload -->
          <div data-id="file-upload-section">
            <h3 class="text-xl font-medium text-gray-800 mb-4" data-id="file-upload-title">Reference Images</h3>
            <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center" data-id="file-upload-area">
              <div class="mb-4" data-id="upload-icon">
                <i data-lucide="upload" class="w-12 h-12 text-gray-400 mx-auto"></i>
              </div>
              <p class="text-gray-600 mb-2" data-id="upload-instructions">
                Upload reference images, inspiration photos, or sketches
              </p>
              <p class="text-sm text-gray-500 mb-4" data-id="upload-format">
                PNG, JPG, PDF up to 10MB each
              </p>
              <input type="file" 
                     id="reference-files" 
                     name="reference-files" 
                     multiple 
                     accept="image/*,.pdf"
                     class="hidden">
              <button type="button" 
                      class="bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors"
                      onclick="document.getElementById('reference-files').click()"
                      data-id="upload-btn">
                Choose Files
              </button>
              <div id="file-list" class="mt-4 text-left" data-id="file-list"></div>
            </div>
          </div>

          <!-- Additional Information -->
          <div data-id="additional-info">
            <label for="additional-notes" class="block text-sm font-medium text-gray-700 mb-2">Additional Notes</label>
            <textarea id="additional-notes" 
                      name="additional-notes" 
                      rows="3"
                      class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-deep-rose focus:border-transparent"
                      placeholder="Any other details, questions, or special requests?"></textarea>
          </div>

          <!-- Submit Button -->
          <div class="text-center pt-6" data-id="submit-section">
            <button type="submit" 
                    class="bg-deep-rose text-white px-8 py-4 rounded-full text-lg font-medium hover:bg-deep-rose/90 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
                    data-id="submit-btn">
              Submit Design Request
            </button>
            <p class="text-sm text-gray-500 mt-4" data-id="response-time">
              I'll get back to you within 24 hours with initial concepts and pricing
            </p>
          </div>
        </form>
      </div>
    </div>
  </section>

  <!-- Inspiration Gallery -->
  <section class="py-16 bg-white" data-id="inspiration-gallery">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12" data-id="gallery-header">
        <h2 class="text-3xl lg:text-4xl font-light text-gray-800 mb-4" data-id="gallery-title">
          Custom Design Inspiration
        </h2>
        <p class="text-gray-600 max-w-2xl mx-auto" data-id="gallery-subtitle">
          Browse some of my previous custom work to spark your own ideas
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" data-id="inspiration-grid">
        <div class="group relative overflow-hidden rounded-lg" data-id="inspiration-1">
          <img src="https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" 
               alt="Custom bridal earrings" 
               class="w-full h-64 object-cover group-hover:scale-105 transition-transform duration-300">
          <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
          <div class="absolute bottom-4 left-4 text-white">
            <h3 class="font-medium">Custom Bridal Set</h3>
            <p class="text-sm text-gray-200">Rose gold & pearls</p>
          </div>
        </div>

        <div class="group relative overflow-hidden rounded-lg" data-id="inspiration-2">
          <img src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" 
               alt="Custom family portrait embroidery" 
               class="w-full h-64 object-cover group-hover:scale-105 transition-transform duration-300">
          <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
          <div class="absolute bottom-4 left-4 text-white">
            <h3 class="font-medium">Family Portrait Hoop</h3>
            <p class="text-sm text-gray-200">Personalized names & dates</p>
          </div>
        </div>

        <div class="group relative overflow-hidden rounded-lg" data-id="inspiration-3">
          <img src="https://images.unsplash.com/photo-1594736797933-d0f9dd8b4d40?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" 
               alt="Custom corporate logo embroidery" 
               class="w-full h-64 object-cover group-hover:scale-105 transition-transform duration-300">
          <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
          <div class="absolute bottom-4 left-4 text-white">
            <h3 class="font-medium">Corporate Gift</h3>
            <p class="text-sm text-gray-200">Logo embroidery on silk</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div id="footer-container" data-source="components/footer.html"></div>

  <script type="module">
    import { loadComponent } from './scripts/components/loader.js';
    import { db } from './config/supabase.js';
    
    // Load shared components
    await loadComponent('#navbar-container');
    await loadComponent('#footer-container');
    
    // Initialize icons
    lucide.createIcons();

    // Enhanced Form submission with Database
    document.getElementById('custom-form').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const submitBtn = this.querySelector('[data-id="submit-btn"]');
      const originalText = submitBtn.textContent; // Re-added for functionality as diff removed it but kept its usage
      
      // Show loading state
      submitBtn.textContent = 'Submitting...';
      submitBtn.disabled = true;
      
      try {
        // Try to save to database
        const formData = new FormData(this); // Re-added for functionality as diff removed it but kept its usage
        const requestData = {
          name: formData.get('name'),
          email: formData.get('email'),
          phone: formData.get('phone') || '',
          occasion: formData.get('occasion'),
          budget: formData.get('budget'),
          timeline: formData.get('timeline'),
          color_preferences: formData.get('colors'),
          style_preferences: formData.get('style'),
          description: formData.get('description')
        };
        
        await db.createCustomRequest(requestData);
        
        // Show success message
        submitBtn.innerHTML = '<span class="flex items-center justify-center gap-2"><i data-lucide="check" class="w-5 h-5"></i>Request Submitted!</span>';
        submitBtn.className = submitBtn.className.replace('from-rose-gold to-deep-rose', 'from-green-500 to-green-600');
        
        // Reset form
        this.reset();
        
      } catch (error) {
        console.log('Database not connected, simulating success');
        submitBtn.innerHTML = '<span class="flex items-center justify-center gap-2"><i data-lucide="check" class="w-5 h-5"></i>Request Submitted!</span>';
        submitBtn.className = submitBtn.className.replace('from-rose-gold to-deep-rose', 'from-green-500 to-green-600');
        
        // Reset form
        this.reset();
        
      }
        
        setTimeout(() => {
          submitBtn.innerHTML = originalText;
          submitBtn.className = submitBtn.className.replace('from-green-500 to-green-600', 'from-rose-gold to-deep-rose');
          submitBtn.disabled = false;
          lucide.createIcons();
        }, 3000);
      }
    });
  </script>
</body>
</html>